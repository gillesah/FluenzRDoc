---
title: Autenticação da API
description: Aprenda como se autenticar com a API do FluenzR.
---

# Autenticação da API

A API do FluenzR usa chaves de API para autenticação.

## Obter uma chave de API

### Pré-requisitos

- Plano **Pro** ativo
- Direitos de administrador na conta

### Gerar uma chave

1. Faça login no FluenzR
2. Vá em **Configurações** > **API**
3. Clique em **Gerar uma nova chave**
4. Dê um nome descritivo à chave
5. Copie imediatamente a chave exibida

> **Atenção**
A chave é exibida apenas uma vez. Guarde-a em um local seguro. Se você perdê-la, precisará gerar uma nova.

## Usar a chave de API

### Cabeçalho de autorização

Inclua sua chave de API no cabeçalho `Authorization` de cada solicitação:

```bash
curl -X GET "https://api.fluenzr.co/v1/contacts" \
  -H "Authorization: Bearer flz_sk_your_api_key_here" \
  -H "Content-Type: application/json"
```

### Formato da chave

As chaves de API do FluenzR seguem este formato:

```
flz_sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

- `flz`: Prefixo FluenzR
- `sk`: Secret key
- `xxx...`: 32 caracteres alfanuméricos

## Exemplos por linguagem

### cURL

```bash
curl -X GET "https://api.fluenzr.co/v1/contacts" \
  -H "Authorization: Bearer flz_sk_abc123..." \
  -H "Content-Type: application/json"
```

### JavaScript (fetch)

```javascript
const response = await fetch('https://api.fluenzr.co/v1/contacts', {
  headers: {
    'Authorization': 'Bearer flz_sk_abc123...',
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
```

### JavaScript (axios)

```javascript
import axios from 'axios';

const client = axios.create({
  baseURL: 'https://api.fluenzr.co/v1',
  headers: {
    'Authorization': 'Bearer flz_sk_abc123...'
  }
});

const { data } = await client.get('/contacts');
```

### Python (requests)

```python
import requests

headers = {
    'Authorization': 'Bearer flz_sk_abc123...',
    'Content-Type': 'application/json'
}

response = requests.get(
    'https://api.fluenzr.co/v1/contacts',
    headers=headers
)

data = response.json()
```

### PHP

```php
<?php
$ch = curl_init();

curl_setopt_array($ch, [
    CURLOPT_URL => 'https://api.fluenzr.co/v1/contacts',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_HTTPHEADER => [
        'Authorization: Bearer flz_sk_abc123...',
        'Content-Type: application/json'
    ]
]);

$response = curl_exec($ch);
$data = json_decode($response, true);
```

### Ruby

```ruby
require 'net/http'
require 'json'

uri = URI('https://api.fluenzr.co/v1/contacts')
http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true

request = Net::HTTP::Get.new(uri)
request['Authorization'] = 'Bearer flz_sk_abc123...'
request['Content-Type'] = 'application/json'

response = http.request(request)
data = JSON.parse(response.body)
```

## Gerenciar suas chaves de API

### Ver chaves existentes

Em **Configurações** > **API**, consulte a lista de suas chaves:

| Nome | Criada em | Último uso | Ações |
|------|-----------|-----------|--------|
| Produção | 01/01/2025 | 10/01/2025 | Revogar |
| Dev/Test | 05/01/2025 | 08/01/2025 | Revogar |

### Revogar uma chave

1. Clique em **Revogar** ao lado da chave
2. Confirme a revogação

> **Perigo**
A revogação é imediata e irreversível. Todos os aplicativos usando esta chave deixarão de funcionar.

### Melhores práticas

#### Uma chave por ambiente

| Ambiente | Chave | Permissões |
|----------|-------|------------|
| Produção | flz_sk_prod_xxx | Todas |
| Staging | flz_sk_stag_xxx | Todas |
| Desenvolvimento | flz_sk_dev_xxx | Somente leitura |

#### Nunca expor chaves

**Nunca faça:**
- Commit em um repositório Git
- Incluir no lado do cliente (frontend)
- Compartilhar por email/chat

**Sempre faça:**
- Use variáveis de ambiente
- Armazene em um gerenciador de segredos
- Mantenha apenas no lado do servidor

#### Variáveis de ambiente

```bash
# .env (não faça commit)
FLUENZR_API_KEY=flz_sk_abc123...
```

```javascript
// Node.js
const apiKey = process.env.FLUENZR_API_KEY;
```

```python
# Python
import os
api_key = os.environ.get('FLUENZR_API_KEY')
```

## Erros de autenticação

### 401 Unauthorized

```json
{
  "success": false,
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Invalid or missing API key"
  }
}
```

**Causas possíveis:**
- Chave de API ausente
- Chave de API inválida
- Chave de API revogada

### 403 Forbidden

```json
{
  "success": false,
  "error": {
    "code": "FORBIDDEN",
    "message": "API access requires Pro plan"
  }
}
```

**Causas possíveis:**
- Plano Free ou Starter (API não disponível)
- Chave de API sem as permissões necessárias

## Segurança

### Rotação de chaves

Altere suas chaves de API regularmente:

1. Gere uma nova chave
2. Atualize seus aplicativos
3. Verifique se tudo funciona
4. Revogue a chave antiga

### Monitoramento

Monitore o uso de suas chaves:
- Verifique o "último uso" regularmente
- Identifique chaves não utilizadas
- Detecte uso suspeito

### Em caso de comprometimento

Se uma chave for comprometida:

1. **Revogue imediatamente** a chave no FluenzR
2. Gere uma nova chave
3. Atualize seus aplicativos
4. Analise os logs para detectar uso malicioso
5. Entre em contato com o suporte se necessário
